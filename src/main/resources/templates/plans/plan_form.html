<!DOCTYPE html>
<html th:lang="|${#locale.language}-${#locale.country}|"
      xmlns:th="http://www.thymeleaf.org"
>
<body>
    <div th:fragment="plan-form" id="plan-form" class="container mx-auto mt-4 min-h-dvh w-full z-0 flex flex-col border-x-green-300">
        <form method="dialog" th:action="@{/plans}" th:object="${plan}" class="flex flex-col w-full"
        >
            <div class="grid grid-cols-6 gap-3 mt-10">
                <div class="col-span-6" >New Plan</div>

                <input id="plan-description" type="text" name="plan-description"
                       class="input input-bordered col-span-3"
                       placeholder="Description"
                       th:field="*{description}"
                />

                <div class="flatpickr relative h-10 min-w-[200px]">
                    <input
                            id="start-date-picker"
                            class="peer date-picker input input-bordered input-sm items-center"
                            placeholder=" "
                    />
                    <label class="before:content[' '] after:content[' '] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none !overflow-visible truncate text-[11px] font-normal leading-tight text-gray-500 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-gray-900 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:!border-gray-900 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:!border-gray-900 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500">
                        Start Date
                    </label>
                </div>

                <div class="flatpickr relative h-10 min-w-[200px]">
                    <input
                            id="run-date-picker"
                            class="date-picker peer input input-bordered input-sm items-center"
                            placeholder=" "
                    />
                    <label class="before:content[' '] after:content[' '] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none !overflow-visible truncate text-[11px] font-normal leading-tight text-gray-500 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-gray-900 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:!border-gray-900 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:!border-gray-900 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500">
                        Run Date
                    </label>
                </div>
                <label class="priority">
                    <select class="select select-bordered max-w-xs  col-span-2">
                        <option th:each="priority : ${priorities}" th:text="${priority}" th:value="${priority}"></option>
                    </select>
                    <div class="label">
                        <span class="label-text-alt">Priority</span>
                    </div>
                </label>
            </div>
            <div class="flex flex-row w-full justify-end">
                <button class="btn btn-primary rounded-full">Save Plan</button>
                <button class="btn btn-warning rounded-full">Cancel</button>
            </div>
            <div class="border-2 w-full justify-between">
                <div id="batch-orders-list" class="batch-orders-list flex flex-row w-full">
                    <form class="flex-auto w-32">
                        <table class="">
                            <tr>
                                <th><input type="checkbox" th:checked="checked" class="checkbox" /></th>
                                <th>Order #</th>
                                <th>Harness</th>
                                <th>Revision</th>
                                <th>Quantity</th>
                                <th># Cicuits</th>
                                <th># Terminals</th>
                                <th></th>
                            </tr>
                            <tr th:each="batch : ${unplannedBatches}" x-data="{ selected: false }">
                                <td ><input type="checkbox"
                                            th:id="${batch.getId()}"
                                            th:checked="${batch.getSelected()}"
                                            class="checkbox"
                                            @change="selected = !selected"
                                /></td>
                                <td th:text="${batch.getId()}"></td>
                                <td th:text="${batch.getHarness()}"></td>
                                <td th:text="${batch.getRevision()}"></td>
                                <td th:text="${batch.getQuantity()}"></td>
                                <td th:text="${batch.getCircuitCount()}"></td>
                                <td th:text="${batch.getTerminationCount()}"></td>
                                <td x-text="selected"></td>
                            </tr>
                        </table>
                    </form>

                    <div class="flex-auto w-10">
                        <div class="flex flex-col">
                            <button class="btn btn-succes">Add</button>
                            <button class="btn btn-warning">Remove</button>
                        </div>
                    </div>
                    <form class="flex-auto w-32">
                        <table class="">
                            <tr>
                                <th><input type="checkbox" th:checked="checked" class="checkbox" /></th>
                                <th>Order #</th>
                                <th>Harness</th>
                                <th>Revision</th>
                                <th>Quantity</th>
                                <th># Cicuits</th>
                                <th># Terminals</th>
                                <th></th>
                            </tr>

                        </table>
                    </form>
                </div>
            </div>

        </form>

        <script>
            const datepicker = flatpickr(".date-picker", {
                allowInput: true,
                dateFormat: "d-m-Y"
            });

        </script>
    </div>
</body>
</html>